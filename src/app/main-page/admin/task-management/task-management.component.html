<ion-content *ngIf="!loadingGroup" class="ion-padding">
  <ion-grid>

    <ion-row>

      <ion-col>

        <ion-item id="selectGroupIon">
          <ion-label>{{currentGroup.name}}</ion-label>
          <ion-select id="selectGroup" value="unselect" okText="Okay" cancelText="Dismiss" (ionChange)="onGroupSelect($event)">
            <ion-select-option *ngFor="let group of (groupStorage._groups | async)" [value]="group" >{{group.name}}</ion-select-option>
          </ion-select>
        </ion-item>

        <ion-list id="tasksList">
          <ion-item *ngFor="let task of (taskStorage._tasksGroup | async)" (click)="onClickTask(task)" [ngClass]="{'active': currentTask == task}">
            <ion-label>{{ task.name }}</ion-label>
            <ion-label (click)="onClickDeleteTask(task)">x</ion-label>
          </ion-item>
        </ion-list>
        <ion-button *ngIf="groupSelected" (click)="onClickAdd()" id="addTask">Add Task</ion-button>
      </ion-col>

      <ion-col>
        <app-task-update *ngIf="taskSelected" [task]="currentTask" id="updateTaskComponent"></app-task-update>
        <app-task-add *ngIf="addTask" [group]="currentGroup" id="addTaskComponent"></app-task-add>
      </ion-col>


    </ion-row>
  </ion-grid>
</ion-content>

<ion-content *ngIf="loadingGroup" class="ion-padding">
  <app-loading-spiner></app-loading-spiner>
</ion-content>
